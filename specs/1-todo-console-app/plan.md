# Implementation Plan: In-Memory Python Todo Console App

**Branch**: `1-todo-console-app` | **Date**: 2026-01-01 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/1-todo-console-app/spec.md`

## Summary

Implement a console-based Python todo application that allows users to manage tasks in memory. Users can add, view, update, delete, and mark tasks complete through a menu-driven CLI interface. All 5 core features (Add, View, Update, Delete, Mark Complete) are independently testable and deliver immediate value. Phase I focuses on beginner-friendly functionality without file persistence.

## Technical Context

**Language/Version**: Python 3.8+ (standard library only)
**Primary Dependencies**: None - standard library only (input, print, datetime, uuid)
**Storage**: In-memory list/dictionary (no file or database persistence)
**Testing**: unittest (Python standard library)
**Target Platform**: Console/Terminal (Windows, macOS, Linux compatible)
**Project Type**: Single console application
**Performance Goals**: Responsive user feedback (<100ms for operations), support 1000+ tasks per session
**Constraints**: In-memory only, no external dependencies, beginner-friendly code clarity
**Scale/Scope**: Single user, single session, up to 1000 tasks

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

**Current Status**: No project constitution defined yet. Recommendation: Define core principles for this project (e.g., beginner-friendly code, clear error handling, comprehensive testing).

**Assumed Constraints**:
- ✅ Python 3.8+ standard library only (beginner accessible)
- ✅ Clear, commented code (educational value)
- ✅ Comprehensive inline documentation
- ✅ Test-driven implementation recommended

## Project Structure

### Documentation (this feature)

```text
specs/1-todo-console-app/
├── spec.md              # Feature specification
├── plan.md              # This file (implementation plan)
├── research.md          # Phase 0 research findings
├── data-model.md        # Phase 1 data structure design
├── quickstart.md        # Phase 1 quick start guide
├── contracts/           # Phase 1 function contracts
│   ├── task.md
│   ├── task_manager.md
│   └── cli.md
├── checklists/
│   └── requirements.md   # Specification quality checklist
└── tasks.md             # Phase 2 implementation tasks (generated by /speckit.tasks)
```

### Source Code (repository root)

```text
src/
├── models/
│   └── task.py              # Task entity and validation
├── services/
│   └── task_manager.py      # Task storage and operations
├── cli/
│   └── main.py              # Console interface and user interactions
└── lib/
    └── utils.py             # Utility functions (if needed)

tests/
├── unit/
│   ├── test_task.py         # Task model unit tests
│   ├── test_task_manager.py # TaskManager service unit tests
│   └── test_cli.py          # CLI interaction unit tests
└── integration/
    └── test_todo_workflow.py # End-to-end workflow tests
```

**Structure Decision**: Single console application with modular layers (models, services, CLI) for clarity and testability. Standard Python project layout separates concerns and makes each component independently testable.

## Design Decisions

1. **Task Representation**: Use Python dataclass or simple class with validated attributes
2. **Storage**: In-memory list; use auto-incrementing integer IDs
3. **CLI Design**: Menu-driven interface with clear numbered options
4. **Error Handling**: Try-except blocks with user-friendly error messages
5. **Testing**: Unit tests for each module; integration tests for workflows

---

## Phase 0: Research & Unknowns Resolution

*Dependencies resolved - ready to move to Phase 1*

### Research Topics Addressed

1. **Python Best Practices for Console Apps**
   - Menu-driven interfaces using simple loops and input() functions
   - Clear separation of concerns (Models, Services, CLI)
   - Standard datetime module for timestamps

2. **Data Structures for In-Memory Storage**
   - Python list for task collection
   - Auto-incrementing counter for task IDs
   - Task model with all required attributes

3. **Testing Approach**
   - unittest framework for both unit and integration tests
   - Mock objects for isolating components
   - Fixture patterns for test data

4. **Error Handling Patterns**
   - Validation at model layer (empty titles, invalid IDs)
   - User-friendly error messages
   - Graceful handling of invalid input

### Key Findings

- Use Python 3.8+ built-in capabilities (datetime, collections, etc.)
- Implement validation in Task model for immediate feedback
- Use simple loop-based menu for beginner clarity
- Comprehensive error messages improve user experience

---

## Phase 1: Design & Contracts

### Data Model

**Task Entity**:
```
Task:
  - id: int (unique, auto-generated)
  - title: str (required, non-empty)
  - description: str (optional, defaults to "")
  - status: str ("pending" or "complete")
  - created_at: datetime (auto-generated)
  - completed_at: datetime (optional, set when completed)
```

**Validation Rules**:
- Task title must not be empty or whitespace-only
- Task description can be empty (optional)
- Status must be one of: "pending", "complete"
- IDs must be unique and never reused
- Dates are ISO format or readable format

### Component Contracts

See `/contracts/` directory for detailed function contracts and specifications.

**Key Components**:
1. **Task Model** - Entity definition with validation
2. **TaskManager** - In-memory storage and CRUD operations
3. **CLI** - User interface and menu navigation

---

## Technology Stack Summary

| Aspect | Technology | Rationale |
|--------|-----------|-----------|
| Language | Python 3.8+ | Beginner-friendly, readable syntax |
| Storage | In-memory list | Meets Phase I requirements, simplicity |
| Testing | unittest | Standard library, no dependencies |
| CLI | input()/print() | Simple, beginner-accessible |
| Date/Time | datetime module | Standard library, ISO format support |

---

## Success Criteria

- ✅ All 5 features implemented and independently testable
- ✅ Code is readable and educational for beginners
- ✅ Comprehensive unit and integration tests
- ✅ User-friendly error messages and validation
- ✅ Clear documentation and quick-start guide

---

## Next Steps

1. Generate `/speckit.tasks` to create implementation task list
2. Follow task list for implementation with TDD approach
3. Run tests continuously as features are developed
4. Document API contracts in `/contracts/` directory

